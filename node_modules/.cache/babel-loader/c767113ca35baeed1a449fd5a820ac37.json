{"ast":null,"code":"var _jsxFileName = \"/Users/vinayak/Desktop/hospital_front/src/Components/Patient View/Views/ViewAppointments.js\";\nimport React from 'react';\nimport './ViewAppointments.css';\nimport moment from 'moment';\n\nclass ViewAppointments extends React.Component {\n  constructor() {\n    super();\n\n    this.somethings = (a, b) => {\n      this.props.setpid(a, b);\n    };\n\n    this.cancelApp = (k, l) => {\n      this.setState({\n        curr: Date.now()\n      });\n      fetch(`/api/apppointments/cancel`, {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          date: k,\n          time: l\n        })\n      }).then(response => response.json()).then(ret => {\n        if (ret.status === true) alert('Cancelled Appointment');\n      });\n    };\n\n    this.appointments = a => {\n      let k = a.date;\n      k = moment(k).format(\"YYYY-MM-DD\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"individual-appoint\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, a.department_name), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, a.firstname, \" \", a.lastname), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }, a.time), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, k), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.cancelApp(k, a.time),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      }, \"Cancel\"))));\n    };\n\n    this.componentDidMount = async d => {\n      await this.setState({\n        date: d\n      });\n      fetch(`/api/patient`, {\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          patient_id: this.props.user.user_id\n        })\n      }).then(response => response.json()).then(async ret => {\n        console.log(ret);\n\n        if (ret.status === true) {\n          await this.setState({\n            a: ret.message\n          });\n          await this.setState({\n            dateSelected: true\n          });\n        }\n      });\n      console.log('exit');\n    };\n\n    this.state = {\n      a: \"\",\n      curr: new Date()\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        \"margin-left\": \"10%\"\n      },\n      className: \"dates\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 18\n      }\n    }, \"Appointments\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"fontWeight\": \"bold\"\n      },\n      className: \"fir-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"Department\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"Doctor Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Appointment Time\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Cancel\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), this.state.a.length > 0 ? this.state.a.map(a => this.appointments(a)) : /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        \"marginLeft\": \"15%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, \"No appointments\"));\n  }\n\n}\n\nexport default ViewAppointments;","map":{"version":3,"sources":["/Users/vinayak/Desktop/hospital_front/src/Components/Patient View/Views/ViewAppointments.js"],"names":["React","moment","ViewAppointments","Component","constructor","somethings","a","b","props","setpid","cancelApp","k","l","setState","curr","Date","now","fetch","method","headers","body","JSON","stringify","date","time","then","response","json","ret","status","alert","appointments","format","department_name","firstname","lastname","componentDidMount","d","patient_id","user","user_id","console","log","message","dateSelected","state","render","length","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './ViewAppointments.css';\nimport moment from 'moment'\nclass ViewAppointments extends React.Component{\n    constructor(){\n        super();\n        this.state={\n            a:\"\",\n            curr:new Date()\n        }\n    }\n    somethings=(a,b)=>{\n        this.props.setpid(a,b);\n    }\n    cancelApp=(k,l)=>{\n        this.setState({curr:Date.now()});\n        fetch(`/api/apppointments/cancel`,{\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body:JSON.stringify({\n                date:k,\n                time:l\n            })\n        })\n        .then(response=>response.json())\n        .then(ret=>{\n            if(ret.status===true)\n            alert('Cancelled Appointment')\n        })\n    }\n    appointments=(a)=>{\n        let k=(a.date);\n        k=moment(k).format(\"YYYY-MM-DD\")\n        return(\n            <div className=\"individual-appoint\">\n                <div className=\"details\">\n                <div>{a.department_name}</div>\n                <div>{a.firstname} {a.lastname}</div>\n                <div>{a.time}</div>\n                <div>{k}</div>\n                <div>\n                    <button type=\"button\" onClick={()=>this.cancelApp(k,a.time)}>Cancel</button>\n                </div>\n                </div>\n            </div>\n        )\n    }\n    componentDidMount=async (d)=>{\n        await this.setState({date:d})\n        fetch(`/api/patient`, {\n          method: 'put',\n          headers: {'Content-Type': 'application/json'},\n          body:JSON.stringify({\n              patient_id:this.props.user.user_id,\n            })\n        })\n        .then(response => response.json())\n        .then(async ret => {\n            console.log(ret);\n\n            if(ret.status===true){\n            await this.setState({a:ret.message});\n            await this.setState({dateSelected:true})\n        }\n        })\n        console.log('exit')\n    }\n    render(){\n        return(\n            <div className=\"box\">\n                 <h1 style={{\"margin-left\":\"10%\"}} className=\"dates\">\n                     Appointments\n                     </h1>\n                    <br/><br/>\n                <div style={{\"fontWeight\":\"bold\"}} className=\"fir-details\">\n                <div>Department</div>\n                <div>Doctor Name</div>\n                <div>Appointment Time</div>\n                <div>Date</div>\n                <div>Cancel</div>\n                </div>\n                <br/>\n                {(this.state.a.length>0)?\n                (this.state.a.map((a)=>this.appointments(a)))\n                :(<h4 style={{\"marginLeft\":\"15%\"}}>No appointments</h4>)}\n            </div>\n        )\n    }\n}\nexport default ViewAppointments;"]},"metadata":{},"sourceType":"module"}