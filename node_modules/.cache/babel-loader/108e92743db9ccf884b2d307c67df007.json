{"ast":null,"code":"var _jsxFileName = \"/Users/vinayak/Desktop/hospital_front/src/Components/Landing Page/Navbar/LoginPopup.js\";\nimport React from \"react\";\nimport \"./LoginPopup.css\";\nimport Backdrop from \"./Backdrop\";\nimport google from \"./google-plus.svg\";\nimport person from \"./icons8-person-64.png\";\nimport { Link } from 'react-router-dom';\n\nclass LoginPopup extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showForgot = () => {\n      this.setState({\n        forgot: true\n      });\n    };\n\n    this.passChange = event => {\n      this.setState(Object.assign(this.state.user, {\n        password: event.target.value\n      }));\n    };\n\n    this.emailChange = event => {\n      this.setState({\n        choice_name: event.target.value\n      });\n      var str = event.target.value;\n      var flag = false;\n\n      for (var i = 0; i < str.length; i++) {\n        if (str[i] === \"@\") {\n          flag = true;\n        }\n      }\n\n      if (flag === true) {\n        this.setState({\n          choice: \"email\"\n        });\n        this.setState(Object.assign(this.state.user, {\n          email: event.target.value\n        }));\n      } else {\n        this.setState({\n          choice: \"phone\"\n        });\n        this.setState(Object.assign(this.state.user, {\n          phone: event.target.value\n        }));\n      }\n    };\n\n    this.verify = () => {\n      console.log('entered');\n      fetch(`/api/authenticate`, {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          choice: this.state.choice,\n          username: this.state.choice_name,\n          password: this.state.user.password\n        })\n      }).then(response => response.json()).then(ret => {\n        console.log(ret);\n\n        if (ret.status === true) {\n          this.setState(Object.assign(this.state.user, {\n            firstname: ret.results[0].firstname\n          })); // if(ret.results[0].user_type===0)\n\n          this.setState(Object.assign(this.state.user, {\n            user_id: ret.results[0].user_id\n          })); // else{\n          //   this.setState(Object.assign(this.state.user,{user_id:ret.resultsd[0].doctor_id}));\n          // }\n\n          this.setState(Object.assign(this.state.user, {\n            phone: ret.results[0].phone\n          }));\n          this.setState(Object.assign(this.state.user, {\n            user_type: ret.results[0].user_type\n          }));\n          this.props.loadUser(this.state.user);\n          this.props.giveAccess();\n          if (ret.results[0].user_type === 0) this.props.history.push(`/patient/${this.state.user_id}`);else this.props.history.push(`/doctor/${this.state.user_id}`);\n          console.log('Successfully Login');\n        } else {\n          window.alert('Incorrect Username or Password !');\n        }\n      });\n      console.log('exit');\n    };\n\n    this.state = {\n      captcha: false,\n      choice: \"\",\n      choice_name: \"\",\n      user: {\n        password: \"\",\n        email: \"\",\n        firstname: \"\",\n        user_id: \"\",\n        phone: \"\",\n        user_type: \"\",\n        dob: new Date(),\n        gender: \"\",\n        address: \"\",\n        forgot: false\n      }\n    };\n  }\n\n  render() {\n    const {\n      onRouteChange\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Backdrop, {\n      onRouteChange: onRouteChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: person,\n      alt: \"google\",\n      height: \"40\",\n      width: \"40\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, \"LOGIN \"), /*#__PURE__*/React.createElement(\"form\", {\n      method: \"PUT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Enter Phone No./Email\",\n      onChange: this.emailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      onChange: this.passChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/forgot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/forgot\",\n      onClick: this.showForgot,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"Forgot password?\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.verify,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, \"or\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"Sign up with\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: google,\n      alt: \"google\",\n      height: \"20\",\n      width: \"20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default LoginPopup;","map":{"version":3,"sources":["/Users/vinayak/Desktop/hospital_front/src/Components/Landing Page/Navbar/LoginPopup.js"],"names":["React","Backdrop","person","Link","LoginPopup","Component","constructor","props","showForgot","setState","forgot","passChange","event","Object","assign","state","user","password","target","value","emailChange","choice_name","str","flag","i","length","choice","email","phone","verify","console","log","fetch","method","headers","body","JSON","stringify","username","then","response","json","ret","status","firstname","results","user_id","user_type","loadUser","giveAccess","history","push","window","alert","captcha","dob","Date","gender","address","render","onRouteChange","google"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;;AACA,MAAMC,UAAN,SAAyBJ,KAAK,CAACK,SAA/B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAoBtBC,UApBsB,GAoBX,MAAI;AACb,WAAKC,QAAL,CAAc;AAACC,QAAAA,MAAM,EAAC;AAAR,OAAd;AACD,KAtBqB;;AAAA,SAuBpBC,UAvBoB,GAuBNC,KAAD,IAAW;AACtB,WAAKH,QAAL,CACEI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA+B;AAAEC,QAAAA,QAAQ,EAAEL,KAAK,CAACM,MAAN,CAAaC;AAAzB,OAA/B,CADF;AAGD,KA3BmB;;AAAA,SA4BpBC,WA5BoB,GA4BLR,KAAD,IAAW;AACvB,WAAKH,QAAL,CAAc;AAAEY,QAAAA,WAAW,EAAET,KAAK,CAACM,MAAN,CAAaC;AAA5B,OAAd;AACA,UAAIG,GAAG,GAAGV,KAAK,CAACM,MAAN,CAAaC,KAAvB;AACA,UAAII,IAAI,GAAG,KAAX;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACnC,YAAIF,GAAG,CAACE,CAAD,CAAH,KAAW,GAAf,EAAoB;AAClBD,UAAAA,IAAI,GAAG,IAAP;AACD;AACF;;AACD,UAAIA,IAAI,KAAK,IAAb,EAAmB;AACjB,aAAKd,QAAL,CAAc;AAAEiB,UAAAA,MAAM,EAAE;AAAV,SAAd;AACA,aAAKjB,QAAL,CACEI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA+B;AAAEW,UAAAA,KAAK,EAAEf,KAAK,CAACM,MAAN,CAAaC;AAAtB,SAA/B,CADF;AAGD,OALD,MAKO;AACL,aAAKV,QAAL,CAAc;AAAEiB,UAAAA,MAAM,EAAE;AAAV,SAAd;AACA,aAAKjB,QAAL,CACEI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA+B;AAAEY,UAAAA,KAAK,EAAEhB,KAAK,CAACM,MAAN,CAAaC;AAAtB,SAA/B,CADF;AAGD;AACF,KAhDmB;;AAAA,SAkDjBU,MAlDiB,GAkDV,MAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAC,MAAAA,KAAK,CAAE,mBAAF,EAAsB;AACzBC,QAAAA,MAAM,EAAE,MADiB;AAEzBC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB,SAFgB;AAGzBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBX,UAAAA,MAAM,EAAC,KAAKX,KAAL,CAAWW,MADC;AAEnBY,UAAAA,QAAQ,EAAC,KAAKvB,KAAL,CAAWM,WAFD;AAGnBJ,UAAAA,QAAQ,EAAC,KAAKF,KAAL,CAAWC,IAAX,CAAgBC;AAHN,SAAf;AAHmB,OAAtB,CAAL,CASCsB,IATD,CASMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EATlB,EAUCF,IAVD,CAUMG,GAAG,IAAI;AACXZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;;AACE,YAAGA,GAAG,CAACC,MAAJ,KAAa,IAAhB,EAAqB;AACjB,eAAKlC,QAAL,CAAcI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA8B;AAAC4B,YAAAA,SAAS,EAACF,GAAG,CAACG,OAAJ,CAAY,CAAZ,EAAeD;AAA1B,WAA9B,CAAd,EADiB,CAEjB;;AACA,eAAKnC,QAAL,CAAcI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA8B;AAAC8B,YAAAA,OAAO,EAACJ,GAAG,CAACG,OAAJ,CAAY,CAAZ,EAAeC;AAAxB,WAA9B,CAAd,EAHiB,CAIjB;AACA;AACA;;AACA,eAAKrC,QAAL,CAAcI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA8B;AAACY,YAAAA,KAAK,EAACc,GAAG,CAACG,OAAJ,CAAY,CAAZ,EAAejB;AAAtB,WAA9B,CAAd;AACA,eAAKnB,QAAL,CAAcI,MAAM,CAACC,MAAP,CAAc,KAAKC,KAAL,CAAWC,IAAzB,EAA8B;AAAC+B,YAAAA,SAAS,EAACL,GAAG,CAACG,OAAJ,CAAY,CAAZ,EAAeE;AAA1B,WAA9B,CAAd;AACA,eAAKxC,KAAL,CAAWyC,QAAX,CAAoB,KAAKjC,KAAL,CAAWC,IAA/B;AACA,eAAKT,KAAL,CAAW0C,UAAX;AACA,cAAGP,GAAG,CAACG,OAAJ,CAAY,CAAZ,EAAeE,SAAf,KAA2B,CAA9B,EACI,KAAKxC,KAAL,CAAW2C,OAAX,CAAmBC,IAAnB,CAAyB,YAAW,KAAKpC,KAAL,CAAW+B,OAAQ,EAAvD,EADJ,KAGI,KAAKvC,KAAL,CAAW2C,OAAX,CAAmBC,IAAnB,CAAyB,WAAU,KAAKpC,KAAL,CAAW+B,OAAQ,EAAtD;AACJhB,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH,SAhBD,MAiBI;AACFqB,UAAAA,MAAM,CAACC,KAAP,CAAa,kCAAb;AACD;AACJ,OAhCD;AAiCAvB,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACC,KAtFiB;;AAEd,SAAKhB,KAAL,GAAW;AACPuC,MAAAA,OAAO,EAAC,KADD;AAEP5B,MAAAA,MAAM,EAAC,EAFA;AAGPL,MAAAA,WAAW,EAAC,EAHL;AAIPL,MAAAA,IAAI,EAAC;AACDC,QAAAA,QAAQ,EAAC,EADR;AAEDU,QAAAA,KAAK,EAAC,EAFL;AAGDiB,QAAAA,SAAS,EAAC,EAHT;AAIDE,QAAAA,OAAO,EAAC,EAJP;AAKDlB,QAAAA,KAAK,EAAC,EALL;AAMDmB,QAAAA,SAAS,EAAC,EANT;AAODQ,QAAAA,GAAG,EAAC,IAAIC,IAAJ,EAPH;AAQDC,QAAAA,MAAM,EAAC,EARN;AASDC,QAAAA,OAAO,EAAC,EATP;AAUDhD,QAAAA,MAAM,EAAC;AAVN;AAJE,KAAX;AAiBP;;AAoEGiD,EAAAA,MAAM,GAAE;AACR,UAAM;AAACC,MAAAA;AAAD,QAAgB,KAAKrD,KAA3B;AACC,wBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,QAAD;AAAU,MAAA,aAAa,EAAEqD,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAE1D,MAAV;AAAkB,MAAA,GAAG,EAAC,QAAtB;AAA+B,MAAA,MAAM,EAAC,IAAtC;AAA2C,MAAA,KAAK,EAAC,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAIE;AAAI,MAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAM,MAAA,MAAM,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,WAAW,EAAC,uBAFd;AAGE,MAAA,QAAQ,EAAE,KAAKkB,WAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,eASE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,WAAW,EAAC,gBAFd;AAGE,MAAA,QAAQ,EAAE,KAAKT,UAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,eAcE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,SAAR;AAAkB,MAAA,OAAO,EAAE,KAAKH,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CADF,CAdF,eAmBE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKqB,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAnBF,eAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBF,eAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF,eAyBE;AAAK,MAAA,GAAG,EAAEgC,MAAV;AAAkB,MAAA,GAAG,EAAC,QAAtB;AAA+B,MAAA,MAAM,EAAC,IAAtC;AAA2C,MAAA,KAAK,EAAC,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBF,CALF,CAFA,CADH;AAsCF;;AAhIqC;;AAkIxC,eAAezD,UAAf","sourcesContent":["import React from \"react\";\nimport \"./LoginPopup.css\";\nimport Backdrop from \"./Backdrop\";\nimport google from \"./google-plus.svg\";\nimport person from \"./icons8-person-64.png\";\nimport {Link} from 'react-router-dom'\nclass LoginPopup extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            captcha:false,\n            choice:\"\",\n            choice_name:\"\",\n            user:{\n                password:\"\",\n                email:\"\",\n                firstname:\"\",\n                user_id:\"\",\n                phone:\"\",\n                user_type:\"\",\n                dob:new Date(),\n                gender:\"\",\n                address:\"\",\n                forgot:false\n        }\n    }\n}\nshowForgot=()=>{\n  this.setState({forgot:true});\n}\n  passChange = (event) => {\n    this.setState(\n      Object.assign(this.state.user, { password: event.target.value })\n    );\n  };\n  emailChange = (event) => {\n    this.setState({ choice_name: event.target.value });\n    var str = event.target.value;\n    var flag = false;\n    for (var i = 0; i < str.length; i++) {\n      if (str[i] === \"@\") {\n        flag = true;\n      }\n    }\n    if (flag === true) {\n      this.setState({ choice: \"email\" });\n      this.setState(\n        Object.assign(this.state.user, { email: event.target.value })\n      );\n    } else {\n      this.setState({ choice: \"phone\" });\n      this.setState(\n        Object.assign(this.state.user, { phone: event.target.value })\n      );\n    }\n  }\n    \n     verify=()=>{\n    console.log('entered');\n    fetch(`/api/authenticate`, {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        choice:this.state.choice,\n        username:this.state.choice_name,\n        password:this.state.user.password\n      })\n    })\n    .then(response => response.json())\n    .then(ret => {\n      console.log(ret);\n        if(ret.status===true){\n            this.setState(Object.assign(this.state.user,{firstname:ret.results[0].firstname}));\n            // if(ret.results[0].user_type===0)\n            this.setState(Object.assign(this.state.user,{user_id:ret.results[0].user_id}));\n            // else{\n            //   this.setState(Object.assign(this.state.user,{user_id:ret.resultsd[0].doctor_id}));\n            // }\n            this.setState(Object.assign(this.state.user,{phone:ret.results[0].phone}));\n            this.setState(Object.assign(this.state.user,{user_type:ret.results[0].user_type}));\n            this.props.loadUser(this.state.user);\n            this.props.giveAccess();\n            if(ret.results[0].user_type===0)\n                this.props.history.push(`/patient/${this.state.user_id}`);\n            else\n                this.props.history.push(`/doctor/${this.state.user_id}`);\n            console.log('Successfully Login');\n        } \n        else{\n          window.alert('Incorrect Username or Password !')\n        }   \n    })\n    console.log('exit')\n    }\n    render(){\n    const {onRouteChange}=this.props;\n     return(\n        <div>\n        <Backdrop onRouteChange={onRouteChange}/>\n        <div className=\"login-container\">\n          <img src={person} alt=\"google\" height=\"40\" width=\"40\" />\n          <br></br>\n\n          <h1 className=\"heading\">LOGIN </h1>\n          <form method=\"PUT\">\n            <input\n              type=\"email\"\n              placeholder=\"Enter Phone No./Email\"\n              onChange={this.emailChange}\n            ></input>\n            <br />\n            <br />\n\n            <input\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              onChange={this.passChange}\n            ></input>\n            <Link to='/forgot'>\n              <a href=\"/forgot\" onClick={this.showForgot}>\n                <p>Forgot password?</p>\n              </a>\n              </Link>\n            <button type=\"button\" onClick={this.verify}>\n              Login\n            </button>\n            <hr />\n            <p>or</p>\n            <p>Sign up with</p>\n            <img src={google} alt=\"google\" height=\"20\" width=\"20\" />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nexport default LoginPopup;\n"]},"metadata":{},"sourceType":"module"}